(this["webpackJsonpny-applicator-forecast"]=this["webpackJsonpny-applicator-forecast"]||[]).push([[0],{164:function(e,t,a){},165:function(e,t,a){},193:function(e,t){},259:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var i=a(1),s=a(0),n=a.n(s),o=a(24),r=a.n(o),c=a(36),l=a(15),d=a(16),h=a(18),p=a(17),j=a(143),b=a(316),u=a(9),f=a(323),m=a(41),x=a.n(m),O=a(100),g=a(27),v=a(58),y=a(307),w=a(308),S=a(321),k=a(309),N=a(304);var T=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).getActiveTabIndex=function(){return"/"===e.props.history.location.pathname||"/forecast"===e.props.history.location.pathname?0:"/howto"===e.props.history.location.pathname?1:"/about"===e.props.history.location.pathname?2:void 0},e.handleChange=function(t,a){0===a?e.props.history.push("/"):1===a?e.props.history.push("/howto"):2===a?e.props.history.push("/about"):e.props.history.push("/")},e.handleChangeIndex=function(t){e.setState({value:t})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props.classes;return Object(i.jsx)("div",{className:t.root,children:Object(i.jsxs)(y.a,{position:"static",color:"inherit",children:[Object(i.jsxs)(w.a,{children:[Object(i.jsxs)("div",{className:t.titleLong,onClick:function(){e.props.history.push("/")},children:[Object(i.jsx)(N.a,{variant:"h1",className:t.headerText,children:"Runoff Risk Forecast For New York State"}),Object(i.jsx)(N.a,{variant:"h2",className:t.subHeaderText,children:"Decision support tool for managing runoff risk"})]}),Object(i.jsxs)("div",{className:t.titleShort,onClick:function(){e.props.history.push("/")},children:[Object(i.jsx)(N.a,{variant:"h1",className:t.headerText,children:"NYS Runoff Risk Forecast"}),Object(i.jsx)(N.a,{variant:"h2",className:t.subHeaderText,children:"Support for managing runoff risk"})]}),Object(i.jsx)("section",{className:t.rightToolbar,children:Object(i.jsxs)(S.a,{value:this.getActiveTabIndex(),onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"standard",children:[Object(i.jsx)(k.a,{classes:{root:t.tab},label:"FORECAST",value:0}),Object(i.jsx)(k.a,{classes:{root:t.tab},label:"HOW TO",value:1}),Object(i.jsx)(k.a,{classes:{root:t.tab},label:"ABOUT",value:2})]})})]}),Object(i.jsx)("div",{className:t.bottomToolbar,children:Object(i.jsxs)(S.a,{value:this.getActiveTabIndex(),onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"standard",children:[Object(i.jsx)(k.a,{label:"FORECAST",value:0}),Object(i.jsx)(k.a,{label:"HOW TO",value:1}),Object(i.jsx)(k.a,{label:"ABOUT",value:2})]})})]})})}}]),a}(n.a.Component),R=Object(g.g)(Object(u.a)((function(e){return{root:{display:"flex"},appBar:{marginLeft:0},tab:{minWidth:120,width:120},headerText:{color:x.a[800],fontSize:"26px",fontWeight:"bold",marginBottom:"4px"},subHeaderText:{color:x.a[800],fontSize:"16px"},rightToolbar:Object(v.a)({marginLeft:"auto",marginRight:0},e.breakpoints.down("sm"),{display:"none"}),bottomToolbar:Object(v.a)({},e.breakpoints.up("md"),{display:"none"}),titleLong:Object(v.a)({cursor:"pointer"},e.breakpoints.down("xs"),{display:"none"}),titleShort:Object(v.a)({cursor:"pointer"},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar}}))(T)),C=a(310),F=(a(164),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(i.jsx)("div",{children:Object(i.jsxs)(C.a,{container:!0,className:e.root,spacing:6,children:[Object(i.jsxs)(C.a,{item:!0,sm:12,md:6,children:[Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h2",className:e.aboutHeaderText,children:"Purpose of the Runoff Risk Forecast"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["The ",Object(i.jsx)("b",{children:"New York State Runoff Risk Forecast"})," is a decision support tool designed to help farmers and commercial applicators determine the best time to spread manure. The model used by this tool uses National Weather Service forecasts for precipitation, temperature, soil moisture, snow cover and landscape characteristics to provide information about potential runoff risk in your area for the next 10 days. The forecasts are intended to be used ",Object(i.jsx)("i",{children:"in addition to"})," other sources of information, and alongside the user's local knowledge and experience. Together, this information can be used to keep applications on target, increasing productivity and decreasing the risk of local water contamination."]}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["Runoff risk is forecasted for the next 10 days, with forecasts summarized into 72-hour and 24-hour intervals. While regional forecasts maps are available for an overall assessment of state conditions, selecting and viewing forecasts for specific locations of interest will be most useful. Each point forecast is for a 4 km",Object(i.jsx)("sup",{children:"2"})," area (~1000 acres) that includes a selected location. The risk is grouped into four categories:",Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Little/No Runoff (green, blue)"})," : Little or no runoff is forecasted for your local area."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Low (yellow)"})," : Minor risk of a runoff event is forecasted for your local area."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Moderate (orange)"})," : The risk of a runoff event is moderate. Use this information along with other factors to determine spreading."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"High (red, purple)"})," : The risk of a runoff event is high. Use this information along with other factors to determine spreading."]})]}),"As noted, these forecasts are intended to be used as one tool during decision making. When the risk is Moderate or High for the area, it is recommended that the applicator closely evaluate the situation at the field level to determine if there are other locations or later dates when the application could take place."]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"For more details about using these forecasts, please visit the How To section."})]}),Object(i.jsxs)(C.a,{item:!0,sm:12,md:6,children:[Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h2",className:e.aboutHeaderText,children:"About the models and data"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["Runoff risk forecasts are generated from a model that incorporates a modification of the  ",Object(i.jsx)("a",{href:"https://www.nws.noaa.gov/ohd/hrl/hsmb/docs/hydrology/PBE_SAC-SMA/NOAA_Technical_Report_NWS_53.pdf",children:"Sacremento Soil Moisture Accounting Heat Transfer Component (SAC-HT) for Enhanced Evaporation"}),'. The SAC-HT model incorporates weather observations from numerous sources, including data from weather stations and remote estimates from radar and satellite. These observations provide the model with "current conditions" of air temperature, soil temperature, soil moisture, snow cover, and recently received precipitation.']}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"Once current conditions are established, the model runs into the future to create the 10-day forecasts. The model is driven by National Weather Service forecasts for precipitation, temperature, snowfall, etc, to generate forecasts of runoff."}),Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h2",className:e.aboutHeaderText,children:"Creation of runoff risk severity levels"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",variant:"body1",children:["In order to assess the severity of current runoff forecasts, the model is run using observations from each of the past 40 years. The historical runoff events are used for comparison with current runoff forecasts. This allows us to categorize a forecasted event based on runoff events that have happened in the past. Forecasted runoff risk severity levels have the following statistical definitions:",Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Little/No Runoff"})," : Forecasted runoff amount is lower than at least 70% of all historical runoff events during this month."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Low"})," : Forecasted runoff amount is lower than at least 40% of all historical runoff events during this month."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Moderate"})," : Forecasted runoff amount is higher than at least 60% of all historical runoff events during this month."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"High"})," : Forecasted runoff amount is higher than at least 90% of all historical runoff events during this month."]})]})]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"The intention of this tool is not to estimate specifically how much runoff will occur, but rather the severity level based on these definitions."})]})]})})}}]),a}(s.Component)),I=Object(u.a)((function(e){return{root:{flexGrow:1},control:{padding:e.spacing(2)},aboutHeaderText:{color:"black",fontSize:"26px",fontWeight:"bold"}}}))(F),A=a(311),D=(a(165),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(i.jsx)("div",{children:Object(i.jsxs)(C.a,{container:!0,className:e.root,spacing:6,children:[Object(i.jsxs)(C.a,{item:!0,sm:12,md:6,children:[Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h2",className:e.howtoHeaderText,children:"Definition and interpretation of runoff risk severity levels"}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"Forecasted runoff is categorized into multiple risk levels under either winter conditions (snow cover and/or frozen soil) or non-winter conditions (no snow or frozen soil). These risk levels are presented as color-coded categories on all maps, tables and charts. For each category, we provide interpretation guidance below."}),Object(i.jsxs)(N.a,{component:"div",align:"justify",variant:"body1",children:["Forecasted ",Object(i.jsx)("b",{children:"risk categories"})," issued under ",Object(i.jsx)("b",{children:"non-winter conditions"})," include:",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#52be80"},children:"LITTLE/NO RUNOFF (LNR)"})}),": Little or no runoff is forecasted for your local area."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#ffd700"},children:"LOW RISK"})}),": Minor risk of a runoff event is forecasted for your local area. This minor event is expected to be less intense than at least 40% of the runoff events typically experienced during this time of year."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#ffaa1c"},children:"MODERATE RISK"})}),": The risk of a runoff event is moderate, and expected to be more intense than at least 60% of the runoff events typically experienced during this time of year. Use this information along with other factors to determine spreading. "]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#ff0000"},children:"HIGH RISK"})}),": The risk of a runoff event is high, and expected to be more intense than at least 90% of the runoff events typically experienced during this time of year. Use this information along with other factors to determine spreading."]})]})]}),Object(i.jsxs)(N.a,{component:"div",align:"justify",variant:"body1",children:["Forecasted ",Object(i.jsx)("b",{children:"risk categories"})," issued under ",Object(i.jsx)("b",{children:"winter conditions"})," include:",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#5dade2"},children:"LITTLE/NO RUNOFF (LNR)"})}),": There is very little immediate risk of runoff expected, but winter conditions are present. Snow cover and/or frozen soil increases the likelihood of a runoff event in the future."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#8e44ad"},children:"HIGH RISK"})}),": The risk of a runoff event is high, with winter conditions present. Either rainfall or snowmelt is expected in combination with these winter conditions. With snow cover or frozen soil present, even small amounts of rainfall or snowmelt produces a high risk for runoff."]})]})]})]}),Object(i.jsxs)(C.a,{item:!0,sm:12,md:6,children:[Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h2",className:e.howtoHeaderText,children:"Regional forecast maps: How to use"}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"Regional forecast maps provide an overall view of runoff risk conditions across New York State for the next five days. By default, the runoff risk expected over the next 72 hours is shown on the map. Multiple variables and forecast dates are available for the user to select from."}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:Object(i.jsx)(A.a,{variant:"middle"})}),Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h4",className:e.howtoHeaderTextSub,children:"User selections"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",variant:"body1",children:[Object(i.jsx)("b",{children:"VARIABLE"})," is the type of forecast element available to view.",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Runoff Risk (72-hour)"}),": The highest runoff risk category expected over the selected 3-day period."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Runoff Risk (24-hour)"}),": The runoff risk category expected on the selected day."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Precipitation (in)"}),": Liquid-equivalent of all rain/snow forecasted for selected day."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Snow Water Equivalent (in)"}),": Amount of water in snowpack, if the snow were melted and measured."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Soil Saturation (%)"}),": The percent of soil saturation, at specified depth."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Soil Temperature (F)"}),": The temperature of the soil, at specified depth."]})]})]}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:[Object(i.jsx)("b",{children:"FORECAST DATE"})," is the day, or range of days, a forecast is valid for.",Object(i.jsx)("br",{})]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:Object(i.jsx)(A.a,{variant:"middle"})}),Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h4",className:e.howtoHeaderTextSub,children:"Selecting a location"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",variant:"body1",children:["Location selection is performed within the regional forecast map. Once a location is selected, a detailed forecast will become available for the local area containing your location. This forecast area is 4 km",Object(i.jsx)("sup",{children:"2"})," (~1000 acres), and represents the resolution of the model.",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"If a location is not yet selected"}),": Enter an address or click on the map to select a location. You can fine-tune your selection under a satellite view before saving the location."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"If a location is selected"}),": You can change the location by clicking 'CLEAR SELECTION' before selecting a new location."]})]})]})]}),Object(i.jsxs)(C.a,{item:!0,sm:12,md:6,children:[Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h2",className:e.howtoHeaderText,children:"Point forecasts for your location: How to use"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["For many users, a view of expected runoff risk for a specific location will be most useful. Once a location is selected through the regional map interface, forecasts for the local area containing the selected point (4 km",Object(i.jsx)("sup",{children:"2"}),", ~1000 acres) is visible. Please keep in mind that these forecasts are intended to be used ",Object(i.jsx)("i",{children:"in addition to"})," other sources of information, and alongside the user's local knowledge and experience. Sections included in this view are described below."]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:Object(i.jsx)(A.a,{variant:"middle"})}),Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h4",className:e.howtoHeaderTextSub,children:"Selected location details"}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["Details about your selected location are provided here. ",Object(i.jsx)("b",{children:"Longitude and latitude"})," coordinates will always be provided. Additionally, if your location was selected by typing in an address, that ",Object(i.jsx)("b",{children:"address"})," is also provided."]}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["A ",Object(i.jsx)("b",{children:"CHANGE LOCATION"})," button is also available in this section. Clicking this button clears the currently selected location, and presents you with a regional forecast map. Inside the map, you have the option of selecting a new location."]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:Object(i.jsx)(A.a,{variant:"middle"})}),Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h4",className:e.howtoHeaderTextSub,children:"72-hr Runoff Risk Summary"}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"A quick summary of the maximum runoff risk over the next 3 days is provided. The dates included in this short-term forecast summary are listed in the header of the section. Note that the forecast model run overnight. When finished, the updated forecasts are posted at approximately 6:30am ET each morning."}),Object(i.jsxs)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:["A ",Object(i.jsx)("b",{children:"SHOW ASSUMPTIONS"})," button provides you with important details about current conditions used by the model for this location. You can use this information to verify that data used for model input is consistent with your local field conditions. If you are currently observing different conditions than those listed here, these forecasts should have limited influence on your decision making today."]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:Object(i.jsx)(A.a,{variant:"middle"})}),Object(i.jsx)(N.a,{component:"div",align:"left",paragraph:!0,variant:"h4",className:e.howtoHeaderTextSub,children:"Runoff Risk Forecast (full 10 days)"}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"Below the 72-hr summary forecast is a more comprehensive view of the full 10-day forecast issued today. Always visible is the main color table at the top of the section. This table shows the upcoming 72-hr risk beginning on each date, along with the individual daily risks that comprise the 72-hr risk forecasts."}),Object(i.jsxs)(N.a,{component:"div",align:"justify",variant:"body1",children:["Below the main table, you can view more details of this forecast. Clicking on the ",Object(i.jsx)("b",{children:"SHOW DETAILS"})," button provides some key components of the daily weather forecasts over the next 10 days, including:",Object(i.jsxs)("ul",{children:[Object(i.jsx)("li",{children:"Air temperature range"}),Object(i.jsx)("li",{children:"Soil Temperature"}),Object(i.jsx)("li",{children:"Precipitation"}),Object(i.jsx)("li",{children:"Snow Water Equivalent"})]})]}),Object(i.jsx)(N.a,{component:"div",align:"justify",paragraph:!0,variant:"body1",children:"Viewing these forecast components can help show why certain runoff risk forecasts were issued. For instance, it can help to show whether rainfall or snowmelt was the primary factor in a particular risk forecast."})]})]})})}}]),a}(s.Component)),L=Object(u.a)((function(e){return{root:{flexGrow:1},control:{padding:e.spacing(2)},howtoHeaderText:{color:"black",fontSize:"26px",fontWeight:"bold"},howtoHeaderTextSub:{color:"black",fontSize:"24px",fontWeight:"normal",fontStyle:"italic"}}}))(D),E=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={},i}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(i.jsx)("div",{children:Object(i.jsx)(C.a,{container:!0,className:e.root,spacing:4,children:Object(i.jsx)(C.a,{item:!0,sm:12,md:12,children:Object(i.jsxs)(N.a,{align:"center",paragraph:!0,variant:"h2",className:e.DisclaimerText,children:["PLEASE NOTE : This site is under development, and we are looking for ",Object(i.jsx)("a",{href:"mailto:nrcc@cornell.edu?subject=NY runoff risk feedback",children:"feedback"}),"."]})})})})}}]),a}(s.Component),_=Object(u.a)((function(e){return{root:{flexGrow:1},control:{padding:e.spacing(2)},DisclaimerText:{color:"red",fontSize:"16px",fontWeight:"normal"}}}))(E),H=a(315),z=a(314),W=a(39),V=a.n(W),P=a(35),M=a.n(P),Y=a(318),U=function(){return Object(i.jsxs)(Y.a,{maxWidth:600,padding:1,border:1,borderRadius:4,borderColor:"primary.main",bgcolor:"#f5f5dc",children:[Object(i.jsxs)("p",{children:["This section of the ",Object(i.jsx)("b",{children:"Runoff Risk Forecast"})," tool summarizes your selected location details."]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"Longitude and latitude"})," coordinates will always be provided. Additionally, if your location was selected by typing in an address, that ",Object(i.jsx)("b",{children:"address"})," is also provided."]}),Object(i.jsxs)("p",{children:["The ",Object(i.jsx)("b",{children:"CHANGE LOCATION"})," button clears the currently selected location, and presents you with a regional forecast map. Inside the map, you have the option of selecting a new location to see its specific extended point forecast."]}),Object(i.jsxs)("p",{children:["For more details, please click the ",Object(i.jsx)("b",{children:"HOW TO"})," tab at the top of this page."]})]})},B=function(){return Object(i.jsxs)(Y.a,{maxWidth:600,padding:1,border:1,borderRadius:4,borderColor:"primary.main",bgcolor:"#f5f5dc",children:[Object(i.jsxs)("p",{children:["This section of the ",Object(i.jsx)("b",{children:"Runoff Risk Forecast"})," tool summarizes the maximum runoff risk expected over the next 3 days. The dates included in this short-term forecast summary are listed in the header of this section."]}),Object(i.jsx)("p",{children:"Forecast models run overnight. When finished, updated forecasts are posted at approximately 6:30am ET each morning."}),Object(i.jsxs)("span",{children:["Forecasted ",Object(i.jsx)("b",{children:"risk categories"})," issued under ",Object(i.jsx)("b",{children:"non-frozen conditions"})," include:",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#52be80"},children:"NO RUNOFF EXPECTED (NRE)"})})," "]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#ffd700"},children:"LOW RISK"})})," "]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#ffaa1c"},children:"MODERATE RISK"})})," "]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#ff0000"},children:"HIGH RISK"})})," "]})]}),"Forecasted ",Object(i.jsx)("b",{children:"risk categories"})," issued under ",Object(i.jsx)("b",{children:"frozen conditions"})," include:",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#5dade2"},children:"NO RUNOFF EXPECTED (NRE)"})})," "]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:Object(i.jsx)("span",{style:{color:"#8e44ad"},children:"HIGH RISK"})})," "]})]})]}),Object(i.jsxs)("p",{children:["Clicking the ",Object(i.jsx)("b",{children:"SHOW ASSUMPTIONS"})," button provides you with important details about current conditions used by the model for this location. You can use this information to verify that data used for model input is consistent with your local field conditions."]}),Object(i.jsxs)("p",{children:["For details about available risk categories, please click the ",Object(i.jsx)("b",{children:"HOW TO"})," tab at the top of this page."]})]})},K=function(){return Object(i.jsxs)(Y.a,{maxWidth:600,padding:1,border:1,borderRadius:4,borderColor:"primary.main",bgcolor:"#f5f5dc",children:[Object(i.jsxs)("p",{children:["This section of the ",Object(i.jsx)("b",{children:"Runoff Risk Forecast"})," tool provides daily details of the full 10-day runoff risk forecast."]}),Object(i.jsxs)("p",{children:["The ",Object(i.jsx)("b",{children:"main color table"})," at the top of this section shows the upcoming 72-hr risk beginning on each date, along with the individual daily risks that comprise the 72-hr risk forecasts."]}),Object(i.jsxs)("p",{children:["Clicking on the ",Object(i.jsx)("b",{children:"SHOW DETAILS"})," button provides some key components of the daily weather forecasts over the next 10 days."]}),Object(i.jsxs)("p",{children:["For more details, please click the ",Object(i.jsx)("b",{children:"HOW TO"})," tab at the top of this page."]})]})},G=function(){return Object(i.jsxs)(Y.a,{maxWidth:800,padding:1,border:1,borderRadius:4,borderColor:"primary.main",bgcolor:"#f5f5dc",children:[Object(i.jsxs)("p",{children:["This section of the ",Object(i.jsx)("b",{children:"Runoff Risk Forecast"})," tool provides regional forecast maps for New York State over the next 5 days. Available user selections include items below."]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("b",{children:"VARIABLE"})," is the type of forecast element available to view.",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Runoff Risk (72-hour)"}),": The highest runoff risk category expected over the selected 3-day period."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Runoff Risk (24-hour)"}),": The runoff risk category expected on the selected day."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Precipitation (in)"}),": Liquid-equivalent of all rain/snow forecasted for selected day."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Snow Water Equivalent (in)"}),": Amount of water in snowpack, if the snow were melted and measured."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Soil Saturation (%)"}),": The percent of soil saturation, at specified depth."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"Soil Temperature (F)"}),": The temperature of the soil, at specified depth."]})]})]}),Object(i.jsxs)("p",{children:[Object(i.jsx)("b",{children:"FORECAST DATE"})," is the day, or range of days, a forecast is valid for.",Object(i.jsx)("br",{})]}),Object(i.jsxs)("span",{children:[Object(i.jsx)("b",{children:"LOCATION SELECTION"})," is performed within the regional forecast map.",Object(i.jsx)("br",{}),Object(i.jsxs)("ul",{children:[Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"If a location is not yet selected"}),": Enter an address or click on the map to select a location. You can fine-tune your selection under a satellite view before saving the location."]}),Object(i.jsxs)("li",{children:[Object(i.jsx)("b",{children:"If a location is selected"}),": You can change the location by clicking 'CLEAR SELECTION' before selecting a new location."]})]})]}),Object(i.jsxs)("p",{children:["For more details, please click the ",Object(i.jsx)("b",{children:"HOW TO"})," tab at the top of this page."]})]})},q=function(){return Object(i.jsxs)(Y.a,{maxWidth:800,padding:1,border:1,borderRadius:4,borderColor:"primary.main",bgcolor:"#f5f5dc",children:[Object(i.jsx)("p",{children:Object(i.jsx)("b",{children:"FINE-TUNING AND SAVING LOCATION"})}),Object(i.jsx)("p",{children:"After initial location selection, you have the option of fine-tuning the selection within a satellite view of the area."}),Object(i.jsx)("p",{children:"Pan the map, and click to modify your initial selection at a specific field or point of interest. Once your fine-tuning is complete, you can click 'SAVE THIS LOCATION\" within the popup box. A regional forecast map of runoff risk will appear, with location details inside the popup box. Location-specific forecast information will appear next to the regional forecast map. Depending on your view, the location-specific forecasts will be to the left or above the map."}),Object(i.jsxs)("p",{children:["For more details, please click the ",Object(i.jsx)("b",{children:"HOW TO"})," tab at the top of this page."]})]})},J=a(312),X=a(136),Z=a.n(X),Q=a(320),$=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={anchorEl:null},e.handleClick=function(t){e.setState({anchorEl:t.currentTarget})},e.handleClose=function(){e.setState({anchorEl:null})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorEl,a=Boolean(t);return Object(i.jsxs)("div",{children:[Object(i.jsx)(J.a,{color:"inherit","aria-label":"Help",className:e.menuButton,onClick:this.handleClick,children:Object(i.jsx)(Z.a,{})}),Object(i.jsx)(Q.a,{id:"simple-popper",open:a,anchorEl:t,onClick:this.handleClose,onClose:this.handleClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:this.props.content})]})}}]),a}(n.a.Component),ee=Object(u.a)((function(e){return{typography:{margin:e.spacing(2)},menuButton:{marginRight:-60,marginTop:-10}}}))($),te=a(322),ae=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"}}}))((function(e){return Object(i.jsx)(C.a,{item:!0,container:!0,direction:"column",justify:"flex-start",xs:12,md:4,lg:4,children:Object(i.jsxs)(C.a,{item:!0,children:[Object(i.jsxs)(N.a,{gutterBottom:!0,variant:"body2",children:["The ",Object(i.jsx)("b",{children:"New York State Runoff Risk Forecast"})," provides information about potential runoff risk for the next 10 days. This tool uses National Weather Service forecasts for precipitation, temperature, soil moisture, snow cover and landscape characteristics to drive these products."]}),Object(i.jsx)(te.a,{smDown:!0,children:Object(i.jsx)("br",{})}),Object(i.jsx)("hr",{}),Object(i.jsx)(te.a,{smDown:!0,children:Object(i.jsx)("br",{})}),Object(i.jsxs)(N.a,{gutterBottom:!0,variant:"body2",children:[Object(i.jsx)("b",{children:"Regional Forecasts"})," are presented as maps. Runoff risk and associated weather components can be selected and viewed on the map for specific forecast dates (above map)."]}),Object(i.jsx)(te.a,{smDown:!0,children:Object(i.jsx)("br",{})}),Object(i.jsx)("hr",{}),Object(i.jsx)(te.a,{smDown:!0,children:Object(i.jsx)("br",{})}),Object(i.jsxs)(N.a,{gutterBottom:!0,variant:"body2",children:[Object(i.jsx)("b",{children:"Point Forecasts"})," provide site-specific runoff risk information in chart and table form. These forecasts can be accessed for your location by either clicking on the map, or typing your address/location where indicated in the corner of the map."]}),Object(i.jsx)(te.a,{smDown:!0,children:Object(i.jsx)("br",{})}),Object(i.jsx)("hr",{}),Object(i.jsx)(te.a,{smDown:!0,children:Object(i.jsx)("br",{})}),Object(i.jsxs)(N.a,{gutterBottom:!0,variant:"body2",children:["For details about these forecasts and more instructions on how to use this tool, please click on the ",Object(i.jsx)("b",{children:"How To"})," and ",Object(i.jsx)("b",{children:"About"})," links at the top of the page."]})]})})})),ie=a(319),se=a(313),ne=a(324),oe=a(325),re=function(e){return{RRAF_dailyRiskPercWinter72Hour:"Runoff Risk (72-hour)",RRAF_dailyRiskPercWinter:"Runoff Risk (24-hour)",dailyPrecip_vol_INCHES:"Precipitation (in)",dailyRAIM_vol_INCHES:"Rainfall + Snowmelt (in)",dailyAvgSoilSat_2in:'Soil Saturation (2" depth, %)',dailyAvgSoilSat_6in:'Soil Saturation (6" depth, %)',dailyAvgSoilSat_sfc10:'Soil Saturation (sfc-10", %)',dailyAvgSoilTemp_2in_F:'Soil Temperature (2" depth, \xb0F)',dailyAvgSoilTemp_6in_F:'Soil Temperature (6" depth, \xb0F)',dailyAvgSoilTemp_sfc10_F:'Soil Temperature (sfc-10", \xb0F)',dailyAvgSnowDepth_INCHES:"Snow Depth (in)",dailyAvgSWE_INCHES:"Snow Water Equivalent (in)"}[e]},ce=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{minWidth:120}}}))((function(e){var t=e.classes;return Object(i.jsx)("form",{className:t.root,autoComplete:"off",children:Object(i.jsxs)(se.a,{className:t.formControl,children:[Object(i.jsx)(ne.a,{htmlFor:"var",children:"Variable"}),Object(i.jsx)(ie.a,{value:e.value,onChange:e.onchange,inputProps:{name:"var",id:"var"},children:e.values&&e.values.map((function(e,t){return Object(i.jsx)(oe.a,{value:e,children:re(e)},t)}))})]})})})),le=a(326),de=a(137),he=a.n(de);function pe(e){return"Map for ".concat(e[0])}var je=Object(u.a)((function(e){return{root:{minWidth:200,width:"24vw"}}}))((function(e){var t=e.classes,a=null;return a=e.valuesEndRange.length?e.valuesStartRange.map((function(t,a){return{value:a,label:he()(t.slice(4,6)+"/"+t.slice(6,8)+"-<br/>"+e.valuesEndRange[a].slice(4,6)+"/"+e.valuesEndRange[a].slice(6,8))}})):e.valuesStartRange.map((function(e,t){return{value:t,label:e.slice(4,6)+"/"+e.slice(6,8)}})),Object(i.jsxs)("div",{className:t.root,children:[Object(i.jsx)(N.a,{id:"date-slider",gutterBottom:!0,children:"Forecast Date"}),Object(i.jsx)(le.a,{track:!1,value:e.valuesStartRange.indexOf(e.value),onChange:e.onchange,valueLabelDisplay:"off",min:0,max:e.valuesStartRange.length-1,marks:a,"aria-labelledby":"date-slider",getAriaValueText:pe})]})})),be=a(2),ue=a.n(be),fe=function(e){var t=e.dateFcstInit;return fetch("/ny/data/fcst_dates.json?"+t).then((function(e){return e.json()})).then((function(e){return e||null}))};fe.propTypes={dateFcstInit:ue.a.string.isRequired};var me=fe,xe=function(e){var t=e.dateFcstInit;return fetch("/ny/data/ll_jsons/ll_grid.json?"+t).then((function(e){return e.json()})).then((function(e){return e||null}))};xe.propTypes={dateFcstInit:ue.a.string.isRequired};var Oe=xe,ge=function(e){var t=e.idxLon,a=e.idxLat,i=e.dateFcstInit;return fetch("/ny/data/pixel_data_jsons/"+a+"_data.json?"+i).then((function(e){return e.json()})).then((function(e){return e?e[t]:null}))};ge.propTypes={idxLon:ue.a.string.isRequired,idxLat:ue.a.string.isRequired,dateFcstInit:ue.a.string.isRequired};var ve=ge,ye=(a(211),a(212),a(70)),we=a(144),Se=a(63),ke=a.n(Se),Ne=(a(259),{position:"absolute",bottom:20,left:10,padding:"10px"}),Te=function(e){return{RRAF_dailyRiskPerc:"Runoff Risk (24-hour)",RRAF_dailyRiskPerc72Hour:"Runoff Risk (72-hour)",RRAF_dailyRiskPercWinter:"Runoff Risk (24-hour)",RRAF_dailyRiskPercWinter72Hour:"Runoff Risk (72-hour)",RRAF_dailyRiskPercWinterTotal:"Runoff Risk (10-day)",dailyPrecip_vol_INCHES:"Precipitation (in)",dailyRAIM_vol_INCHES:"Rainfall + Snowmelt (in)",dailyAvgSoilSat_2in:'Soil Saturation (2" depth, %)',dailyAvgSoilSat_6in:'Soil Saturation (6" depth, %)',dailyAvgSoilSat_sfc10:'Soil Saturation (sfc-10", %)',dailyAvgSoilTemp_2in_F:'Soil Temperature (2" depth, \xb0F)',dailyAvgSoilTemp_6in_F:'Soil Temperature (6" depth, \xb0F)',dailyAvgSoilTemp_sfc10_F:'Soil Temperature (sfc-10", \xb0F)',dailyAvgSnowDepth_INCHES:"Snow Depth (in)",dailyAvgSWE_INCHES:"Snow Water Equivalent (in)"}[e]},Re=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return this.props.variable.includes("Risk")?Object(i.jsxs)("div",{className:"map-legend",style:Ne,children:[Object(i.jsx)("div",{className:"map-legend-title",children:Te(this.props.variable)}),Object(i.jsx)("div",{className:"color-box rr-color-1"}),Object(i.jsx)("span",{className:"map-legend-label",children:"Little/No Runoff"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box rr-color-2"}),Object(i.jsx)("span",{className:"map-legend-label",children:"Low"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box rr-color-3"}),Object(i.jsx)("span",{className:"map-legend-label",children:"Moderate"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box rr-color-4"}),Object(i.jsx)("span",{className:"map-legend-label",children:"High"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"map-legend-title",children:"Frozen Soil / Snow"}),Object(i.jsx)("div",{className:"color-box rr-color-5"}),Object(i.jsx)("span",{className:"map-legend-label",children:"Little/No Runoff"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box rr-color-6"}),Object(i.jsx)("span",{className:"map-legend-label",children:"High"}),Object(i.jsx)("br",{})]}):"dailyPrecip_vol_INCHES"===this.props.variable||"dailyRAIM_vol_INCHES"===this.props.variable||"dailyAvgSWE_INCHES"===this.props.variable?Object(i.jsxs)("div",{className:"map-legend",style:Ne,children:[Object(i.jsx)("div",{className:"map-legend-title",children:Te(this.props.variable)}),Object(i.jsx)("div",{className:"color-box precip-color-1"}),Object(i.jsx)("span",{className:"map-legend-label",children:"Zero"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-2"}),Object(i.jsx)("span",{className:"map-legend-label",children:"Trace-0.10"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-3"}),Object(i.jsx)("span",{className:"map-legend-label",children:"0.10-0.25"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-4"}),Object(i.jsx)("span",{className:"map-legend-label",children:"0.25-0.50"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-5"}),Object(i.jsx)("span",{className:"map-legend-label",children:"0.50-0.75"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-6"}),Object(i.jsx)("span",{className:"map-legend-label",children:"0.75-1.00"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-7"}),Object(i.jsx)("span",{className:"map-legend-label",children:"1.00-1.50"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-8"}),Object(i.jsx)("span",{className:"map-legend-label",children:"1.50-3.00"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box precip-color-9"}),Object(i.jsx)("span",{className:"map-legend-label",children:"> 3.00"}),Object(i.jsx)("br",{})]}):this.props.variable.includes("SoilTemp")?Object(i.jsxs)("div",{className:"map-legend",style:Ne,children:[Object(i.jsx)("div",{className:"map-legend-title",children:Te(this.props.variable)}),Object(i.jsx)("div",{className:"color-box temp-color-1"}),Object(i.jsx)("span",{className:"map-legend-label",children:"< 32"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box temp-color-2"}),Object(i.jsx)("span",{className:"map-legend-label",children:"32-34"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box temp-color-3"}),Object(i.jsx)("span",{className:"map-legend-label",children:"34-40"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box temp-color-4"}),Object(i.jsx)("span",{className:"map-legend-label",children:"40-45"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box temp-color-5"}),Object(i.jsx)("span",{className:"map-legend-label",children:"45-50"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box temp-color-6"}),Object(i.jsx)("span",{className:"map-legend-label",children:"> 50"}),Object(i.jsx)("br",{})]}):this.props.variable.includes("SoilSat")?Object(i.jsxs)("div",{className:"map-legend",style:Ne,children:[Object(i.jsx)("div",{className:"map-legend-title",children:Te(this.props.variable)}),Object(i.jsx)("div",{className:"color-box sat-color-1"}),Object(i.jsx)("span",{className:"map-legend-label",children:"0-20"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box sat-color-2"}),Object(i.jsx)("span",{className:"map-legend-label",children:"20-40"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box sat-color-3"}),Object(i.jsx)("span",{className:"map-legend-label",children:"40-60"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box sat-color-4"}),Object(i.jsx)("span",{className:"map-legend-label",children:"60-80"}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{className:"color-box sat-color-5"}),Object(i.jsx)("span",{className:"map-legend-label",children:"80-100"}),Object(i.jsx)("br",{})]}):Object(i.jsx)("div",{className:"map-legend",style:Ne})}}]),a}(n.a.Component);ke.a.workerClass=a(260).default;var Ce="pk.eyJ1IjoiYm5iMiIsImEiOiJjazJtYTgwajQwZnFiM29waGo4NHI1MWpnIn0.Xmb6eYeJArqqBQtKkWorUQ",Fe={position:"absolute",top:10,left:0,padding:"10px"},Ie={position:"absolute",top:10,left:0,padding:"10px"},Ae=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).geocoderContainerRef=n.a.createRef(),i.mapRef=n.a.createRef(),i.handleGeocoderViewportChange=function(e){var t=Object(c.a)(Object(c.a)({},e),{transitionDuration:1e3});i.props.handlePointChange(e.latitude,e.longitude),i.props.handleViewportChange(t)},i.handleMapClick=function(e){i.props.handleSelectionConfirmed(!1),i.props.handlePointChange(e.lngLat[1],e.lngLat[0]);var t=Object(c.a)(Object(c.a)({},i.props.viewport),{latitude:e.lngLat[1],longitude:e.lngLat[0],zoom:14});i.props.handleViewportChange(t)},i.handleSaveLocation=function(){i.props.handleSelectionConfirmed(!0),i.props.handleViewportChange({zoom:6})},i.mapStyle=function(e,t){return{version:8,sources:{mapbox:{type:"vector",url:"mapbox://mapbox.mapbox-streets-v8"},overlay:{type:"image",url:e,coordinates:t}},layers:[{id:"water",source:"mapbox","source-layer":"water",type:"fill",paint:{"fill-color":"#2c2c2c"}},{id:"boundaries",source:"mapbox","source-layer":"admin",type:"line"},{id:"overlay",source:"overlay",type:"raster",paint:{"raster-opacity":.85}}]}},i.mapStyleSatellite=function(){return"mapbox://styles/mapbox/satellite-streets-v11"},i.onChangeClick=function(){i.props.initLocation()},i.state={imgsrc:null,imgcoords:[[-79.95970329697062,46.54645497007963],[-69.66501014096089,46.54645497007963],[-69.66501014096083,39.33905737461734],[-79.95970329697053,39.3390573746173]]},i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){if(this.props.date&&this.props.dateFcstInit&&this.props.variable){this.setState({imgsrc:"/ny/fcst_map_images/NY_"+this.props.variable+"_"+this.props.date.slice(4,8)+this.props.date.slice(0,4)+".png?"+this.props.dateFcstInit})}}},{key:"componentDidUpdate",value:function(e){if(e.date!==this.props.date||e.dateFcstInit!==this.props.dateFcstInit||e.variable!==this.props.variable){this.setState({imgsrc:"/ny/fcst_map_images/NY_"+this.props.variable+"_"+this.props.date.slice(4,8)+this.props.date.slice(0,4)+".png?"+this.props.dateFcstInit})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.imgsrc,s=t.imgcoords,n=this.props.locationText?this.props.locationText.indexOf(", New York"):null,o=n?this.props.locationText.slice(0,n):null;return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{ref:this.geocoderContainerRef,style:{position:"absolute",top:20,left:60,zIndex:1}}),Object(i.jsxs)(ye.d,Object(c.a)(Object(c.a)({ref:this.mapRef},this.props.viewport),{},{width:"100%",height:"70vh",mapStyle:this.props.viewport.zoom>=11?this.mapStyleSatellite():this.mapStyle(a,s),mapboxApiAccessToken:Ce,onViewportChange:this.props.handleViewportChange,onClick:function(t){!e.props.selectionConfirmed&&e.handleMapClick(t)},children:[!this.props.selectionConfirmed&&Object(i.jsx)("div",{className:"geo",style:Ie,children:Object(i.jsx)(we.a,{mapRef:this.mapRef,containerRef:this.geocoderContainerRef,placeholder:"Type address / click map",proximity:{longitude:-76.5,latitude:42.5},clearOnBlur:!0,countries:"us",onViewportChange:this.handleGeocoderViewportChange,onResult:this.props.handleGeocoderLocationChange,mapboxApiAccessToken:Ce})}),Object(i.jsx)("div",{className:"nav",style:Fe,children:Object(i.jsx)(ye.b,{showCompass:!1})}),this.props.viewport.zoom<11&&this.props.variable&&Object(i.jsx)(Re,{variable:this.props.variable}),this.props.lon&&this.props.lat&&Object(i.jsxs)(ye.c,{longitude:this.props.lon,latitude:this.props.lat,closeButton:!1,closeOnClick:!0,captureClick:!0,anchor:"top",children:[!this.props.selectionConfirmed&&Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Options:"}),Object(i.jsx)("br",{}),"1. Continue Fine-tuning selection",Object(i.jsx)("br",{}),"-OR-",Object(i.jsx)("br",{}),"2.\xa0",Object(i.jsx)(z.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return e.handleSaveLocation()},children:"Save This Location"})]}),this.props.selectionConfirmed&&Object(i.jsxs)(C.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(i.jsx)("b",{children:"Selected location details:"}),o,Object(i.jsx)("br",{}),"Lon: ",this.props.lon.toFixed(4),", Lat: ",this.props.lat.toFixed(4),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(z.a,{variant:"contained",color:"primary",size:"small",onClick:this.onChangeClick,children:"Clear Selection"})]})]})]}))]})}}]),a}(s.Component),De=(a(261),a(71)),Le=a.n(De),Ee=a(140),_e=a.n(Ee),He=a(94),ze=a.n(He);_e()(Le.a);var We=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).defaults={dbchart:{colors:["#00aa00","#d6eaf8","#ffd700","#ffaa1c","#ff0000","#ee82ee"],zones:[1.01,1.03,2.1,3.1,4.01,4.03]},dbtable:{columns:10,classes:["no_risk","no_risk_fzn","low","moderate","high","high_fzn"],labels:["No Risk","No Risk (FZN)","Low","Moderate","High","High (FZN)"],risk:["no_risk","no_risk_fzn","low","moderate","high","high_fzn"]},dbthumbs:{count:7,start:"doi"}},e.data_model={dashboard:{chart:Object.assign({},e.defaults.dbchart,{seriesName:"Runoff Risk"}),table:e.defaults.dbtable},description:"Runoff Risk Estimates"},e.createRiskCategories=function(t){return t.map((function(t){return e.convertRiskPercToRiskCat(t)}))},e}return Object(d.a)(a,[{key:"convertRiskPercToRiskCat",value:function(e){var t=null;return e>100&&e<=112&&(t=0),e>=0&&e<25&&(t=1),e>=25&&e<50&&(t=2),e>=50&&e<75&&(t=3),e>=75&&e<101&&(t=4),e>=112&&e<=125&&(t=5),t}},{key:"genChartConfig",value:function(e,t,a,i){var s=i.startDate;a.firstValid&&a.firstValid>s&&(s=a.firstValid);var n=e.dashboard.chart,o=n.zones.map((function(e,t){return{value:e,className:"zone-"+(t+1).toString()}}));return{chart:{borderColor:"#98AFC7",borderWidth:2,alignTicks:!1,height:225,renderTo:"#dashboard-chart-container"},legend:{enabled:!1},navigator:{enabled:!1,height:40,margin:5,handles:{borderColor:"#0000ff"},series:{type:"column"},yAxis:{min:.5,max:4}},plotOptions:{series:{pointStart:s,pointInterval:864e5}},rangeSelector:{selected:0,height:0,inputEnabled:!1,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"}},scrollbar:{enabled:!1},series:[{colorByPoint:!0,colors:n.colors,data:t,dataLabels:{enabled:!0,inside:!0,formatter:function(){return this.y<=1.5?"NRE":2===this.y?"Low":3===this.y?"Mod":this.y>=3.5?"High":void 0}},name:n.seriesName,type:"column",zoneAxis:"y",zones:o}],title:{text:"Runoff Risk Forecasts* (Daily)",style:{fontWeight:"bold"}},subtitle:null,tooltip:{enabled:!1},type:"column",xAxis:{title:{text:"*NRE: No Runoff Expected"},type:"datetime",dateTimeLabelFormats:{day:"%d %b",week:"%d %b",month:"%b<br/>%Y",year:"%Y"},events:{afterSetExtremes:function(e){!function(e){var t=e.min,a=e.max;Le.a.charts.forEach((function(e){e&&e.xAxis[0].setExtremes(t,a)}))}(e)}}},yAxis:{title:null,max:4,min:0,labels:{enabled:!1},tickInterval:1},zoneAxis:"y",zones:o}}},{key:"render",value:function(){var e=this,t=this.data_model,a=this.createRiskCategories(this.props.pointData.riskWinter),s=parseInt(this.props.pointData.dates[0].slice(0,4),10),n=parseInt(this.props.pointData.dates[0].slice(4,6),10),o=parseInt(this.props.pointData.dates[0].slice(6,8),10),r={firstValid:M()([s,n-1,o]).startOf("day")},c={startDate:M()([s,n-1,o]).startOf("day")},l=a.map((function(e){return 0===e?e+1.02:5===e?e-.98:e})),d=this.props.pointData.mint.map((function(t,a){return[e.props.pointData.mint[a],e.props.pointData.maxt[a]]}));return Object(i.jsxs)("div",{id:"dashboard-chart-container",children:[Object(i.jsx)(ze.a,{highcharts:Le.a,constructorType:"stockChart",options:this.genChartConfig(t,l,r,c)}),Object(i.jsx)("div",{children:"\xa0"}),Object(i.jsx)(ze.a,{highcharts:Le.a,constructorType:"stockChart",options:Object.assign(this.genChartConfig(t,l,r,c),{chart:{borderColor:"#98AFC7",borderWidth:2,height:250,spacingTop:10,marginTop:0},title:null,subtitle:null,legend:{enabled:!0,verticalAlign:"top",y:-38,itemStyle:{fontSize:"14px"}},rangeSelector:{selected:0,height:0,inputEnabled:!1,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"}},series:[{type:"columnrange",name:"Air Temp Range Fcst (\xb0F)",data:d,showInNavigator:!0,dataLabels:{enabled:!0},color:"#000000"},{type:"line",name:'2" Soil Temp Fcst (\xb0F)',data:this.props.pointData.soilTemp2in,showInNavigator:!1,color:"#aaaaaa",lineWidth:3}],xAxis:{title:null,dateTimeLabelFormats:{day:"%d %b",week:"%d %b",month:"%b<br/>%Y",year:"%Y"}},yAxis:{labels:{enabled:!0},plotLines:[{value:32,color:"#0000ff",dashStyle:"shortdash",width:2,label:{text:"32\xb0F"}}]}})}),Object(i.jsx)("div",{children:"\xa0"}),Object(i.jsx)(ze.a,{highcharts:Le.a,constructorType:"stockChart",options:Object.assign(this.genChartConfig(t,l,r,c),{chart:{borderColor:"#98AFC7",borderWidth:2,height:250,spacingTop:10,marginTop:0},title:null,subtitle:null,legend:{enabled:!0,verticalAlign:"top",y:-38,itemStyle:{fontSize:"14px"}},rangeSelector:{selected:0,height:0,inputEnabled:!1,buttonTheme:{visibility:"hidden"},labelStyle:{visibility:"hidden"}},series:[{type:"area",name:"Snow Water Equiv Fcst (in)",data:this.props.pointData.SWE,showInNavigator:!1,color:"#aed6f1"},{type:"column",name:"Rain+Snowmelt Fcst (in)",data:this.props.pointData.RAIM,showInNavigator:!0,dataLabels:{enabled:!0,formatter:function(){return 0!==this.y?this.y.toFixed(2):""}},color:"#00aa00"}],xAxis:{title:null,dateTimeLabelFormats:{day:"%d %b",week:"%d %b",month:"%b<br/>%Y",year:"%Y"}},yAxis:{labels:{enabled:!0}}})})]})}}]),a}(s.Component),Ve=a(91),Pe=a(90),Me=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e,t=M()().format("MM-DD"),a=[parseInt(this.props.pointData.dates[0].slice(0,4),10),parseInt(this.props.pointData.dates[0].slice(4,6),10)-1,parseInt(this.props.pointData.dates[0].slice(6,8),10)],s=this.props.pointData.fcstFlag.indexOf("f"),n=[],o=Object(Pe.a)(this.props.pointData.fcstFlag.entries());try{for(o.s();!(e=o.n()).done;){var r=Object(Ve.a)(e.value,2),c=r[0];"f"===r[1]&&n.push(c)}}catch(l){o.e(l)}finally{o.f()}return Object(i.jsxs)("tr",{id:"dashboard-dates",className:"dates",children:[Object(i.jsx)("th",{className:"series-name dates",children:"Dates"}),Object(i.jsx)("td",{className:"series-dates",children:n.map((function(e){var n="date"+e.toString(),o=M()(a).add(e,"d").format("MM-DD");return e<s?o===t?Object(i.jsx)("span",{className:"date obs",children:"Today"},n):Object(i.jsx)("span",{className:"date obs",children:o},n):o===t?Object(i.jsx)("span",{className:"date fcast",children:"Today"},n):Object(i.jsx)("span",{className:"date fcast",children:o},n)}))})]})}}]),a}(n.a.Component),Ye=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e={classes:["no_risk","low","moderate","high"," ","no_risk_fzn","high_fzn"],labels:["NRE*","Low","Moderate","High"," ","NRE* (FZN)","High (FZN)"]};return Object(i.jsx)("div",{className:"dashboard-element-legend",children:e.classes.map((function(t,a){var s="legend-circle "+t,n=e.labels[a],o="legend"+a.toString();return Object(i.jsxs)("span",{children:[Object(i.jsx)("span",{className:s}),n]},o)}))})}}]),a}(n.a.Component),Ue=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e,t=this.props.riskData,a=["no_risk_fzn","no_risk","low","moderate","high","high_fzn"],s=this.props.pointData.fcstFlag.indexOf("f"),n=[],o=Object(Pe.a)(this.props.pointData.fcstFlag.entries());try{for(o.s();!(e=o.n()).done;){var r=Object(Ve.a)(e.value,2),c=r[0];"f"===r[1]&&n.push(c)}}catch(l){o.e(l)}finally{o.f()}return Object(i.jsxs)("tr",{id:"daily-data",className:"row_1",children:[Object(i.jsx)("th",{className:"series-name data",children:this.props.seriesName}),Object(i.jsx)("td",{className:"series-data",children:n.map((function(e){var n="daily"+e.toString(),o="data "+a[t[e]];return o+=e<s?" obs":" fcast",Object(i.jsx)("span",{className:o,children:"\xa0"},n)}))})]})}}]),a}(n.a.Component),Be=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).createRiskCategories=function(t){return t.map((function(t){return e.convertRiskPercToRiskCat(t)}))},e}return Object(d.a)(a,[{key:"convertRiskPercToRiskCat",value:function(e){var t=null;return e>100&&e<=112&&(t=0),e>=0&&e<25&&(t=1),e>=25&&e<50&&(t=2),e>=50&&e<75&&(t=3),e>=75&&e<101&&(t=4),e>=112&&e<=125&&(t=5),t}},{key:"render",value:function(){return Object(i.jsxs)("div",{className:"turf-dashboard-element",children:[Object(i.jsx)("div",{className:"dashboard-element-header",children:Object(i.jsx)(Ye,{})}),Object(i.jsx)("table",{className:"turf-dashboard-table",cellPadding:"0",cellSpacing:"0",children:Object(i.jsxs)("tbody",{children:[Object(i.jsx)(Ue,{pointData:this.props.pointData,riskData:this.createRiskCategories(this.props.pointData.riskWinter72hr),seriesName:"72-hr Risk"}),Object(i.jsx)(Ue,{pointData:this.props.pointData,riskData:this.createRiskCategories(this.props.pointData.riskWinter),seriesName:"Daily Risk"}),Object(i.jsx)(Me,{pointData:this.props.pointData})]})})]})}}]),a}(n.a.Component),Ke=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).onChangeClick=function(){e.props.initLocation()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.locationText?this.props.locationText.indexOf(", New York"):null,a=t?this.props.locationText.slice(0,t):null;return Object(i.jsx)(C.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(i.jsxs)("div",{id:"turf-dashboard-location",children:[Object(i.jsx)("span",{className:"location-title",children:"Selected location details:"}),Object(i.jsx)("br",{}),a&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{className:"location-address",children:a})}),Object(i.jsxs)("span",{className:"location-address",children:["Lon: ",parseFloat(this.props.lon).toFixed(4),", Lat: ",parseFloat(this.props.lat).toFixed(4)]}),Object(i.jsxs)(C.a,{container:!0,item:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",children:[Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(z.a,{className:e.button,variant:"contained",color:"primary",size:"small",onClick:this.onChangeClick,children:"Change Location"})}),Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(ee,{content:Object(i.jsx)(U,{})})})]}),Object(i.jsx)("br",{})]})})}}]),a}(n.a.Component),Ge=Object(u.a)((function(e){return{}}))(Ke),qe=a(141),Je=a.n(qe),Xe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"convertRiskPercToRiskCat",value:function(e){var t=null;return e>100&&e<=112&&(t=0),e>=0&&e<25&&(t=1),e>=25&&e<50&&(t=2),e>=50&&e<75&&(t=3),e>=75&&e<101&&(t=4),e>=112&&e<=125&&(t=5),t}},{key:"convertRiskCatToText",value:function(e,t){var a="";return 0===e&&(a="NO RUNOFF EXPECTED"),1===e&&(a="NO RUNOFF EXPECTED"),2===e&&(a="LOW RISK"),3===e&&(a="MODERATE RISK"),4===e&&(a="HIGH RISK"),5===e&&(a="HIGH RISK"),{summaryTxt:"72-Hr Runoff Risk ("+(parseInt(t[0].slice(4,6),10).toString()+"/"+parseInt(t[0].slice(6,8),10).toString())+", "+(parseInt(t[1].slice(4,6),10).toString()+"/"+parseInt(t[1].slice(6,8),10).toString())+", "+(parseInt(t[2].slice(4,6),10).toString()+"/"+parseInt(t[2].slice(6,8),10).toString())+") *",riskTxt:a,categoryValue:e}}},{key:"render",value:function(){var e,t=M()().format("YYYYMMDD"),a=this.props.pointData.dates.indexOf(t),s=this.props.pointData.riskWinter72hr[a],n=[this.props.pointData.dates[a],this.props.pointData.dates[a+1],this.props.pointData.dates[a+2]],o=this.convertRiskPercToRiskCat(s);return e=this.convertRiskCatToText(o,n),Object(i.jsx)(C.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(i.jsxs)("div",{id:"turf-dashboard-summary",children:[Object(i.jsx)("span",{className:"summary-text",children:e.summaryTxt}),Object(i.jsx)("br",{}),0===e.categoryValue&&Object(i.jsx)("span",{className:"summary-risk-text no-risk-fzn",children:e.riskTxt}),1===e.categoryValue&&Object(i.jsx)("span",{className:"summary-risk-text no-risk",children:e.riskTxt}),2===e.categoryValue&&Object(i.jsx)("span",{className:"summary-risk-text low-risk",children:e.riskTxt}),3===e.categoryValue&&Object(i.jsx)("span",{className:"summary-risk-text moderate-risk",children:e.riskTxt}),4===e.categoryValue&&Object(i.jsx)("span",{className:"summary-risk-text high-risk",children:e.riskTxt}),5===e.categoryValue&&Object(i.jsx)("span",{className:"summary-risk-text high-risk-fzn",children:e.riskTxt}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"summary-fcst-time-note",children:"* NOTE : Forecasts are updated ~ 6:30am ET daily"})]})})}}]),a}(n.a.Component),Ze=Object(u.a)((function(e){return{button:{color:Je.a[500]}}}))(Xe),Qe=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=M()().format("M/D");return Object(i.jsxs)("div",{id:"turf-dashboard-location",children:[Object(i.jsxs)("span",{className:"location-assumptions-text",children:["As of ",e,", estimates of winter/non-winter conditions at your location include:"]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),"yes"===this.props.userSnow&&Object(i.jsx)("span",{className:"location-assumptions-items",children:'Snow depth \u2265 1".'}),"no"===this.props.userSnow&&Object(i.jsx)("span",{className:"location-assumptions-items",children:'Very little or no snow cover (snow depth < 1").'}),Object(i.jsx)("br",{}),"yes"===this.props.userSoilFzn&&Object(i.jsx)("span",{className:"location-assumptions-items",children:"Soil is frozen."}),"no"===this.props.userSoilFzn&&Object(i.jsx)("span",{className:"location-assumptions-items",children:"Soil is NOT frozen."}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)("span",{className:"location-assumptions-text",children:"These estimates are determined from observations in your area. However, local conditions can vary at field level."}),Object(i.jsx)("span",{className:"location-assumptions-warning",children:"If you are currently observing different conditions than those listed above, these forecasts should have limited influence on your decision making today."})]})}}]),a}(s.Component),$e=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.pointData.fcstFlag.indexOf("f"),t=this.props.pointData.dates[e].slice(0,4),a=this.props.pointData.dates[e].slice(4,6),s=this.props.pointData.dates[e].slice(6,8);return Object(i.jsxs)("div",{className:"dashboard-title",children:["Runoff Risk Forecast issued ",a,"-",s,"-",t]})}}]),a}(n.a.Component),et=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"getDetailsButtonText",value:function(){var e="";return this.props.detailView&&(e="- Hide Details"),this.props.detailView||(e="+ Show Details"),e}},{key:"getAssumptionsButtonText",value:function(){var e="";return this.props.assumptionsView&&(e="- Hide Assumptions"),this.props.assumptionsView||(e="+ Show Assumptions"),e}},{key:"shouldComponentUpdate",value:function(e){return this.props.pointData!==e.pointData||this.props.detailView!==e.detailView||this.props.assumptionsView!==e.assumptionsView||this.props.userSnow!==e.userSnow||this.props.userSoilFzn!==e.userSoilFzn}},{key:"render",value:function(){return Object(i.jsx)("div",{id:"turf-dashboard",children:Object(i.jsxs)("div",{id:"turf-dashboard-elements",children:[this.props.lon&&this.props.lat&&this.props.pointData&&this.props.userSnow&&Object(i.jsxs)("div",{children:[window.innerWidth>500&&Object(i.jsx)(Ge,{lon:this.props.lon,lat:this.props.lat,locationText:this.props.locationText,pointData:this.props.pointData,initLocation:this.props.initLocation,userSnow:this.props.userSnow,userSnowChange:this.props.userSnowChange,userSoilFzn:this.props.userSoilFzn,userSoilFznChange:this.props.userSoilFznChange}),window.innerWidth>500&&Object(i.jsx)(A.a,{variant:"middle"}),Object(i.jsx)(Ze,{pointData:this.props.pointData}),Object(i.jsxs)(C.a,{container:!0,item:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",children:[Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(z.a,{variant:"contained",color:"primary",size:"small",onClick:this.props.updateAssumptionsView,children:this.getAssumptionsButtonText()})}),Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(ee,{content:Object(i.jsx)(B,{})})})]}),this.props.assumptionsView&&Object(i.jsx)(Qe,{pointData:this.props.pointData,userSnow:this.props.userSnow,userSoilFzn:this.props.userSoilFzn}),Object(i.jsx)("br",{}),"\xa0",Object(i.jsx)(A.a,{variant:"middle"}),Object(i.jsx)("br",{}),Object(i.jsx)($e,{pointData:this.props.pointData}),Object(i.jsx)(Be,{pointData:this.props.pointData}),Object(i.jsx)("div",{children:Object(i.jsx)("span",{className:"nre-note",children:"*NRE: No Runoff Expected \xa0"})}),Object(i.jsxs)(C.a,{container:!0,item:!0,spacing:1,direction:"row",justify:"center",alignItems:"center",children:[Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(z.a,{variant:"contained",color:"primary",size:"small",onClick:this.props.updateDetailView,children:this.getDetailsButtonText()})}),Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(ee,{content:Object(i.jsx)(K,{})})})]})]}),this.props.detailView&&Object(i.jsx)(We,{pointData:this.props.pointData}),Object(i.jsx)("div",{children:"\xa0"})]})})}}]),a}(n.a.Component),tt=(a(262),function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).initLocation=function(){i.setState({lon:null,lat:null,idxLon:null,idxLat:null,pointData:null,locationText:null,userSnow:null,userSoilFzn:null,selectionConfirmed:!1}),V.a.remove("RUNOFFRISK.lat"),V.a.remove("RUNOFFRISK.lon"),V.a.remove("RUNOFFRISK.locationText")},i.initViewport=function(){i.setState({viewport:{longitude:-75.77,latitude:42.51,zoom:6}})},i.handlePointChange=function(e,t){i.setState({lat:e,lon:t,locationText:null,detailView:!1,assumptionsView:!1}),V.a.set("RUNOFFRISK.lon",t),V.a.set("RUNOFFRISK.lat",e),V()("RUNOFFRISK.locationText")&&V.a.remove("RUNOFFRISK.locationText")},i.handleViewportChange=function(e){i.setState({viewport:Object(c.a)(Object(c.a)({},i.state.viewport),e)})},i.handleDateChange=function(e,t){i.setState({date:i.state.dates[t]})},i.handleVarChange=function(e){i.setState({variable:e.target.value})},i.handleChangeUserSnow=function(e){i.setState({userSnow:e.target.value})},i.handleChangeUserSoilFzn=function(e){i.setState({userSoilFzn:e.target.value})},i.handleDetailViewChange=function(){i.setState((function(e){return{detailView:!e.detailView}}))},i.handleAssumptionsViewChange=function(){i.setState((function(e){return{assumptionsView:!e.assumptionsView}}))},i.handleGeocoderLocationChange=function(e){i.setState({locationText:e.result.place_name,selectionConfirmed:!1}),V.a.set("RUNOFFRISK.locationText",e.result.place_name)},i.handleSelectionConfirmed=function(e){i.setState({selectionConfirmed:e})},i.handleChangePage=function(e){i.props.history.push(e)},i.state={variable:"RRAF_dailyRiskPercWinter72Hour",variables:["RRAF_dailyRiskPercWinter72Hour","RRAF_dailyRiskPercWinter","dailyPrecip_vol_INCHES","dailyRAIM_vol_INCHES","dailyAvgSWE_INCHES","dailyAvgSoilSat_2in","dailyAvgSoilSat_6in","dailyAvgSoilSat_sfc10","dailyAvgSoilTemp_2in_F","dailyAvgSoilTemp_6in_F","dailyAvgSoilTemp_sfc10_F"],date:null,dates:null,datesEnd72hrRange:null,gridLats:[],gridLons:[],lat:V()("RUNOFFRISK.lat")||null,lon:V()("RUNOFFRISK.lon")||null,idxLon:null,idxLat:null,selectionConfirmed:!!V()("RUNOFFRISK.lon"),pointData:null,userSnow:null,userSoilFzn:null,locationText:V()("RUNOFFRISK.locationText")||null,viewport:{longitude:-75.77,latitude:42.51,zoom:6},detailView:!1,assumptionsView:!1,dataIsLoading:!1},i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=M()().format("YYYYMMDD");me({dateFcstInit:t}).then((function(a){e.setState({date:a.fcstDates.slice(0,5).includes(t)?t:a.fcstDates[0],dates:a.fcstDates.slice(0,5),datesEnd72hrRange:a.fcstDates.slice(2,7)})})),this.setState({dataIsLoading:!0}),Oe({dateFcstInit:t}).then((function(a){if(e.setState({gridLons:a.lons,gridLats:a.lats}),e.state.lat&&e.state.lon&&a.lons.length&&a.lats.length){for(var i=a.lons.length,s=null,n=0;n<i-1;n++)if(e.state.lon>=a.lons[n]&&e.state.lon<a.lons[n+1]){s=n;break}for(var o=a.lats.length,r=null,c=0;c<o-1;c++)if(e.state.lat<=a.lats[c]&&e.state.lat>a.lats[c+1]){r=c;break}s&&r&&t&&ve({idxLon:s.toString(),idxLat:r.toString(),dateFcstInit:t}).then((function(a){var i=a.dates.indexOf(t),n=a.winterCond[i],o=a.winterCond[i];e.setState({idxLon:s,idxLat:r,pointData:a,userSnow:2===n||3===n?"yes":"no",userSoilFzn:1===o||3===o?"yes":"no",dataIsLoading:!1})}))}}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;this.state.dates&&this.state.gridLons.length&&this.state.gridLats.length&&this.state.lat&&this.state.lon&&t.lat!==this.state.lat&&t.lon!==this.state.lon&&(this.setState({dataIsLoading:!0}),setTimeout((function(){for(var e=a.state.gridLons.length,t=null,i=0;i<e-1;i++)if(a.state.lon>=a.state.gridLons[i]&&a.state.lon<a.state.gridLons[i+1]){t=i;break}for(var s=a.state.gridLats.length,n=null,o=0;o<s-1;o++)if(a.state.lat<=a.state.gridLats[o]&&a.state.lat>a.state.gridLats[o+1]){n=o;break}t&&n&&a.state.dates&&ve({idxLon:t.toString(),idxLat:n.toString(),dateFcstInit:a.state.dates[0]}).then((function(e){var i=M()().format("YYYYMMDD"),s=e.dates.indexOf(i),o=e.winterCond[s],r=e.winterCond[s];a.setState({idxLon:t,idxLat:n,pointData:e,userSnow:2===o||3===o?"yes":"no",userSoilFzn:1===r||3===r?"yes":"no",dataIsLoading:!1})}))}),1e3)),this.state.lat||this.state.lon||t.lat===this.state.lat||t.lon===this.state.lon||this.initViewport()}},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(i.jsx)("div",{children:Object(i.jsxs)(C.a,{container:!0,justify:"space-evenly",spacing:6,children:[this.state.lat&&Object(i.jsx)(C.a,{item:!0,xs:12,lg:6,children:Object(i.jsxs)("div",{className:t.wrapper,children:[this.state.lon&&this.state.lat&&this.state.pointData&&this.state.userSnow&&this.state.userSoilFzn&&Object(i.jsx)(et,{lon:this.state.lon.toString(),lat:this.state.lat.toString(),pointData:this.state.pointData,initLocation:this.initLocation,locationText:this.state.locationText,assumptionsView:this.state.assumptionsView,updateAssumptionsView:this.handleAssumptionsViewChange,detailView:this.state.detailView,updateDetailView:this.handleDetailViewChange,userSnow:this.state.userSnow,userSnowChange:this.handleChangeUserSnow,userSoilFzn:this.state.userSoilFzn,userSoilFznChange:this.handleChangeUserSoilFzn,changePage:this.handleChangePage}),!this.state.pointData&&Object(i.jsx)("div",{style:{height:"400px"},children:"\xa0"}),this.state.dataIsLoading&&Object(i.jsx)(H.a,{size:140,className:t.chartProgress})]})}),!this.state.lat&&Object(i.jsx)(ae,{}),Object(i.jsxs)(C.a,{item:!0,container:!0,direction:"column",justify:"flex-start",xs:12,md:8,lg:this.state.lat?6:8,spacing:3,children:[!this.state.lon&&!this.state.lat&&Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(N.a,{align:"center",paragraph:!0,variant:"body2",className:t.locationInstrText,children:"TO ACCESS POINT FORECASTS : Click on map or type in address/location below."})}),this.state.viewport.zoom<11&&Object(i.jsxs)(C.a,{item:!0,container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start",children:[Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(ce,{value:this.state.variable,values:this.state.variables,onchange:this.handleVarChange})}),Object(i.jsx)(C.a,{item:!0,children:this.state.date&&this.state.dates&&Object(i.jsx)(je,{value:this.state.date,valuesStartRange:this.state.dates,valuesEndRange:"RRAF_dailyRiskPercWinter72Hour"===this.state.variable?this.state.datesEnd72hrRange:[],onchange:this.handleDateChange})}),Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)(ee,{content:Object(i.jsx)(G,{})})})]}),this.state.viewport.zoom>=11&&this.state.lon&&this.state.lat&&!this.state.selectionConfirmed&&Object(i.jsxs)(C.a,{item:!0,container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-end",children:[Object(i.jsx)(C.a,{item:!0,xs:10,children:Object(i.jsx)(N.a,{align:"center",paragraph:!0,variant:"body2",className:t.locationInstrText,children:"Fine-tune your selection and click 'SAVE THIS LOCATION'."})}),Object(i.jsx)(C.a,{item:!0,xs:2,children:Object(i.jsx)(ee,{content:Object(i.jsx)(q,{})})})]}),this.state.viewport.zoom>=11&&(!this.state.lon||!this.state.lat||this.state.selectionConfirmed)&&Object(i.jsx)(C.a,{item:!0,container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-start",children:Object(i.jsx)(z.a,{variant:"contained",color:"primary",size:"large",onClick:function(){return e.handleViewportChange({zoom:10})},children:"View Regional Forecast"})}),Object(i.jsx)(C.a,{item:!0,children:Object(i.jsx)("div",{className:t.wrapper,children:this.state.variable&&this.state.date&&Object(i.jsx)(Ae,{lon:this.state.lon,lat:this.state.lat,locationText:this.state.locationText,selectionConfirmed:this.state.selectionConfirmed,viewport:this.state.viewport,variable:this.state.variable,date:this.state.date,dateFcstInit:this.state.dates[0],initLocation:this.initLocation,handlePointChange:this.handlePointChange,handleSelectionConfirmed:this.handleSelectionConfirmed,handleViewportChange:this.handleViewportChange,handleGeocoderLocationChange:this.handleGeocoderLocationChange})})})]})]})})}}]),a}(s.Component)),at=Object(u.a)((function(e){return{button:{color:x.a[500]},wrapper:{position:"relative"},mainSelect:{marginLeft:"0px"},chartProgress:{color:x.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-60,marginLeft:-40},locationInstrText:{color:"black",fontSize:"1.2em",fontWeight:"bold"}}}))(tt),it=a(142),st=a.n(it),nt=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=(new Date).getFullYear();return Object(i.jsxs)("div",{className:e.root,children:[Object(i.jsx)(C.a,{container:!0,spacing:2,className:st()(e.footerText,e.footerSections),children:Object(i.jsx)(C.a,{item:!0,xs:12,sm:3,children:Object(i.jsx)(N.a,{className:e.white,gutterBottom:!0,variant:"body2",children:"This site is a collaboration between the following partners/supporters."})})}),Object(i.jsx)(C.a,{className:e.subFooter,item:!0,xs:12,children:Object(i.jsxs)(N.a,{className:e.white,variant:"subtitle1",component:"span",children:["\xa9 ",t," Cornell University"]})})]})}}]),a}(s.Component),ot=Object(u.a)((function(e){return{root:{boxShadow:"0 50vh 0 50vh "+x.a[800],marginTop:30,backgroundColor:x.a[800],borderTop:"solid 3px #999999",paddingTop:"16px",overflowX:"hidden"},footerSections:{margin:"0 16px"},subFooter:{padding:"8px 16px 8px 16px",marginTop:"8px"},footerText:{color:"#fff",fontSize:"18px",lineHeight:1.5},invertedBtnDark:{color:"#fff",backgroundColor:"transparent",border:"2px #fff solid",boxShadow:"none",margin:"8px"},white:{color:"#ffffff"},flexContainer:{display:"flex"}}}))(nt),rt=(a(263),Object(j.a)({shadows:Array(25).fill("none"),palette:{primary:{main:x.a[800]},alternativeTextColor:x.a[800]},overrides:{MUIDataTableBodyRow:{root:{"&:nth-child(odd)":{backgroundColor:"#D3D3D3"}}}},typography:{body2:{fontSize:"0.8rem","@media (min-width:960px)":{fontSize:"1.0rem"}}}})),ct=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(i.jsx)(O.a,{basename:"/ny",children:Object(i.jsx)(b.a,{theme:rt,children:Object(i.jsxs)("div",{id:"container",className:"App",children:[Object(i.jsx)(R,{}),Object(i.jsx)("br",{}),Object(i.jsx)(_,{}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{id:"main-content",children:Object(i.jsxs)(g.d,{children:[Object(i.jsx)(g.b,{exact:!0,path:"/",render:function(e){return Object(i.jsx)(at,Object(c.a)({},e))}}),Object(i.jsx)(g.b,{exact:!0,path:"/forecasts",render:function(e){return Object(i.jsx)(at,Object(c.a)({},e))}}),Object(i.jsx)(g.b,{path:"/howto",component:L}),Object(i.jsx)(g.b,{path:"/about",component:I}),Object(i.jsx)(g.b,{render:function(){return Object(i.jsx)(g.a,{to:"/"})}})]})}),Object(i.jsx)(ot,{})]})})})}}]),a}(s.Component),lt=Object(u.a)((function(e){return{root:{},toolbar:e.mixins.toolbar}}))(Object(f.a)(ct));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(i.jsx)(lt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[264,1,2]]]);
//# sourceMappingURL=main.f19f0d14.chunk.js.map